<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi chulito hermoso ğŸ’–</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Parisienne&family=Roboto:wght@400;700&display=swap');
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #fff0f5;
    margin: 0;
    padding: 20px;
  }
  h1 {
    color: #d63384;
  }
  button {
    background: #ff4d6d;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    background: #ff8099;
  }
  .memorama-grid {
    display: grid;
    gap: 15px;
    margin: 20px auto;
    justify-content: center;
  }

  .carta {
    width: 100%;
    max-width: 120px; /* tamaÃ±o mÃ¡ximo de carta */
    aspect-ratio: 1 / 1; /* mantiene cuadrado */
    perspective: 1000px;
    cursor: pointer;
  }

  .carta-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
  }

  .carta.volteada .carta-inner {
    transform: rotateY(180deg);
  }

  .carta-front, .carta-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 15px;
    box-shadow: 0px 4px 12px rgba(0,0,0,0.2);
  }

  .carta-back {
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    color: white;
    font-weight: bold;
  }

  .carta-front {
    transform: rotateY(180deg);
    overflow: hidden;
  }

  .carta-front img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 15px;
  }


  #info {
    margin-top: 20px;
    font-size: 18px;
  }
  #cupon {
    margin-top: 20px;
    font-size: 20px;
    color: darkred;
    font-weight: bold;
  }
  .mural {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
  margin-top: 20px;
}

.postit {
  background: #fffa86;
  padding: 15px;
  border-radius: 10px;
  width: 200px;
  min-height: 80px;
  box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
  word-wrap: break-word;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}


/* Fondo degradado animado */
body {
  font-family: 'Roboto', sans-serif;
  text-align: center;
  background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fbc2eb, #a6c1ee);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
  margin: 0;
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
  padding: 20px;
}

@keyframes gradientBG {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}

/* TÃ­tulos */
h1 {
  margin-top: 20px;
  font-family: 'Parisienne', cursive;
  font-size: 3rem;
  color: #ff3e6c;
  text-shadow: 2px 2px 5px rgba(0,0,0,0.2);
  animation: fadeIn 1.5s ease forwards;
}

/* Contenido oculto hasta login */
#contenido { display: none; }

/* Secciones */
.seccion {
  display: none;
  margin: 20px auto;
  padding: 25px;
  background: rgba(255,255,255,0.95);
  border-radius: 20px;
  max-width: 700px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  transition: transform 0.3s, box-shadow 0.3s, opacity 1s;
  opacity: 0;
}

.seccion.show {
  display: block;
  opacity: 1;
  animation: fadeIn 1s forwards;
}

@keyframes fadeIn {
  from {opacity:0; transform: translateY(20px);}
  to {opacity:1; transform: translateY(0);}
}

/* Botones */
nav { margin: 20px; }

nav button {
  margin: 8px;
  padding: 12px 20px;
  border: none;
  border-radius: 15px;
  background: linear-gradient(135deg, #ff6f91, #ffb347);
  color: white;
  cursor: pointer;
  font-size: 1.1rem;
  font-weight: bold;
  transition: 0.4s;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

nav button:hover {
  background: linear-gradient(135deg, #ffb347, #ff6f91);
  transform: scale(1.1);
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
}

/* Corazones animados */
.corazon {
  font-size: 3rem;
  animation: latido 1s infinite;
  margin-top: 15px;
}

@keyframes latido {
  0%,100%{transform:scale(1);} 
  50%{transform:scale(1.4);}
}

/* Login */
#login {
  margin-top: 50px;
  padding: 40px;
  background: rgba(255,255,255,0.9);
  border-radius: 25px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  animation: popIn 1s ease;
}

input {
  padding: 12px;
  border: 2px solid #ff6f91;
  border-radius: 12px;
  margin-bottom: 15px;
  width: 220px;
  font-size: 1rem;
  text-align: center;
}

iframe { 
  border-radius: 15px; 
  margin-top: 15px; 
  box-shadow: 0 5px 20px rgba(0,0,0,0.2); 
}

@keyframes popIn {
  0%{transform:scale(0);opacity:0;}
  100%{transform:scale(1);opacity:1;}
}

ul li { margin:10px 0; font-size:1.1rem; }

/* Corazones flotantes */
.heart {
  position: absolute;
  font-size: 1rem;
  animation: floatHeart 6s linear infinite;
  opacity: 0.8;
  user-select: none;
}

@keyframes floatHeart {
  0%{transform:translateY(0) rotate(0deg); opacity:1;}
  100%{transform:translateY(-700px) rotate(360deg); opacity:0;}
}

/* MÃ¡quina de escribir */
.typewriter {
  display:inline-block;
  overflow:hidden;
  border-right:.15em solid #ff3e6c;
  white-space:nowrap;
  animation: typing 3s steps(40, end), blink-caret .75s step-end infinite;
  text-align:left;
}

@keyframes typing { from{width:0} to{width:100%} }
@keyframes blink-caret { 50%{border-color:transparent;} }

</style>
</head>
<body>

<!-- Login -->
<div id="login">
  <h1>ğŸ’– Acceso privado ğŸ’–</h1>
  <p>Ingresa la contraseÃ±a secreta mi amor:(fecha especial)</p>
  <input type="password" id="password" placeholder="ContraseÃ±a">
  <br>
  <button onclick="verificar()">Entrar</button>
  <div class="corazon">â¤ï¸â¤ï¸</div>
</div>


<!-- Contenido secreto -->
<div id="contenido">
  <h1>ğŸ’•Hola mi amor hermosoğŸ’•</h1>
  <p>(AÃºn no estÃ¡ terminada)</p>
  <div id="reloj" style="font-size:1.2rem; margin-bottom:10px;"></div>
  <div id="mensajeHora" class="typewriter"></div>

  <nav>
    <button onclick="mostrar('Notas')">ğŸ’Œ Notas</button>  
    <button onclick="mostrar('frases')">âœ¨ Frases</button>
    <button onclick="mostrar('Fotos')">ğŸ“¸ Fotos</button>
    <button onclick="mostrar('recuerdos')">ğŸ“– Recuerdos</button>
    <button onclick="mostrar('musica')">ğŸ¶ MÃºsica</button>
    <button onclick="mostrar('minijuegos')"> ğŸ®Minijuegos</button>
    <button onclick="mostrar('escribeme')"> âœï¸Escribeme mi amor </button>

  </nav>
   
  <div id="Notas" class="seccion">
    <h2>Notitas para ti mi chulitoğŸ’Œ</h2> 
    <div class="mural">
      <div class="postit">Me da miedo aburrirte mi amor y realmente no soporto estar mal contigo cada que eso pasa te prometo que todo mi mundo se viene para abajo</div>
      <div class="postit">Cada dÃ­a a tu lado es un regalo ğŸŒ¹</div>
      <div class="postit">OjalÃ¡ siempre podamos sonreÃ­r juntos âœ¨</div>
    </div>
  </div>


  <div id="frases" class="seccion">
    <h2>Frases para ti ğŸ’Œ</h2>
    <p>Eres mi sol â˜€ï¸ y mi luna ğŸŒ™</p>
    <p>Contigo todo es mejor ğŸ’•</p>
    <p>Siempre te llevo en mi corazÃ³n ğŸŒ¹</p>
  </div>

  <div id="Fotos" class="seccion">
  <h2>Nuestras Fotos ğŸ“¸</h2>
  <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:10px;">
    <img src="img/Foto1.jpg" alt="Foto 1" style="width:200px; border-radius:15px;">
    <img src="img/Foto2.jpg" alt="Foto 2" style="width:200px; border-radius:15px;">
    <img src="img/Foto3.jpg" alt="Foto 3" style="width:200px; border-radius:15px;">
    <img src="img/Foto4.jpg" alt="Foto 4" style="width:200px; border-radius:15px;">
    <img src="img/Foto5.jpg" alt="Foto 5" style="width:200px; border-radius:15px;">
    <img src="img/Foto6.jpg" alt="Foto 6" style="width:200px; border-radius:15px;">
    <img src="img/Foto7.jpg" alt="Foto 7" style="width:200px; border-radius:15px;">
    <img src="img/Foto8.jpg" alt="Foto 8" style="width:200px; border-radius:15px;">
    <img src="img/Foto9.jpg" alt="Foto 9" style="width:200px; border-radius:15px;">
    <img src="img/Foto10.jpg" alt="Foto 10" style="width:200px; border-radius:15px;">
    <img src="img/Foto11.jpg" alt="Foto 11" style="width:200px; border-radius:15px;">
    <img src="img/Foto12.jpg" alt="Foto 12" style="width:200px; border-radius:15px;">
    <img src="img/Foto13.jpg" alt="Foto 13" style="width:200px; border-radius:15px;">
    <img src="img/Foto14.jpg" alt="Foto 14" style="width:200px; border-radius:15px;">
    <img src="img/Foto15.jpg" alt="Foto 15" style="width:200px; border-radius:15px;">
    <img src="img/Foto16.jpg" alt="Foto 16" style="width:200px; border-radius:15px;">
    <img src="img/Foto17.jpg" alt="Foto 17" style="width:200px; border-radius:15px;">
    <img src="img/Foto18.jpg" alt="Foto 18" style="width:200px; border-radius:15px;">
    <img src="img/Foto19.jpg" alt="Foto 19" style="width:200px; border-radius:15px;">
    <img src="img/Foto20.jpg" alt="Foto 20" style="width:200px; border-radius:15px;">
    <img src="img/Foto21.jpg" alt="Foto 21" style="width:200px; border-radius:15px;">
    <img src="img/Foto22.jpg" alt="Foto 22" style="width:200px; border-radius:15px;">
    <img src="img/Foto23.jpg" alt="Foto 23" style="width:200px; border-radius:15px;">
    <img src="img/Foto24.jpg" alt="Foto 24" style="width:200px; border-radius:15px;">
    <img src="img/Foto25.jpg" alt="Foto 25" style="width:200px; border-radius:15px;">
    <img src="img/Foto26.jpg" alt="Foto 26" style="width:200px; border-radius:15px;">
    <img src="img/Foto27.jpg" alt="Foto 27" style="width:200px; border-radius:15px;">
    <img src="img/Foto28.jpg" alt="Foto 28" style="width:200px; border-radius:15px;">
    <img src="img/Foto29.jpg" alt="Foto 29" style="width:200px; border-radius:15px;">
  </div>
</div>


  <div id="recuerdos" class="seccion">
    <h2>Recuerdos âœ¨</h2>
    <ul style="text-align:left; max-width:500px; margin:auto;">
      <li>Cuando nos dimos nuestro primer besooooo ğŸ’‹, fue hermoso bby</li>
      <li>Primera salida juntos ğŸŒ¸, Â¿recuerdas a dÃ³nde fuimos?ğŸ¤­</li>
      <li>â€¦otros recuerdosâ€¦</li>
    </ul>
  </div>

  <!-- SecciÃ³n MÃºsica -->
  <section id="musica" class="seccion" style="padding:20px;">
    <h2>ğŸ¶ Nuestra Playlist</h2>
    <p>Disfruta nuestras canciones favoritas ğŸ’•</p>

    <!-- Contenedor de post-its -->
    <div id="listaCanciones" style="display:flex; flex-wrap:wrap; gap:15px; justify-content:center; margin-top:15px;">
    </div>

    <!-- Reproductor -->
    <div style="margin-top:20px;">
      <audio id="player" controls style="width:100%;">
        Tu navegador no soporta el reproductor de audio ğŸ˜¢
      </audio>
    </div>
  </section>

  <!-- Contenedor del player --> 
  <div id="playerContainer" style="display:flex;justify-content:center;"> <!-- aquÃ­ aparecerÃ¡ el iframe activo --> 
  </div>
  <!-- SecciÃ³n MiniJuegos -->
  <div id="minijuegos" class="seccion">
    <h2>ğŸ® Minijuegos romÃ¡nticos ğŸ’–</h2>
    <nav>
      <button onclick="iniciarTrivia()">ğŸ’Œ Trivia de la relaciÃ³n</button>
      <button onclick="iniciarConoceme()">ğŸŒ¹ QuÃ© tanto me conoces</button>
      <button onclick="iniciarMemorama()">ğŸ“¸ Memorama</button>
      <div id="juegoArea"></div>
      <div id="info"></div>
      <div id="cupon"></div>
    </div>
    </nav>
    <div id="juegoArea" style="margin-top:20px;"></div>
    <div id="resultadoJuego" style="margin-top:20px; font-weight:bold;"></div>
    <div id="cupon" style="margin-top:20px;"></div>

  <div id="escribeme" class="seccion">
    <h2>ğŸ’Œ EscrÃ­beme lo que quieras chulitoo</h2>
    <textarea id="notaUsuario" rows="5" cols="40" placeholder="Escribe aquÃ­ tu nota..."></textarea>
    <div style="margin-top:15px;">
      <button onclick="iniciarGrabacion()">ğŸ¤ Grabar mensaje</button>
      <button onclick="detenerGrabacion()">â¹ Detener</button>
      <ul id="listaMensajes"></ul>


    <br>
    <button onclick="guardarNota()">Guardar nota</button>
    <button onclick="borrarNota()">Borrar nota</button>
    <div id="notaGuardada" style="margin-top:15px; font-weight:bold;"></div>
  </div>
  <div style="margin-top:15px;">
  </div>
  <div id="tableroNotas" style="display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:15px;"></div>


<script src="https://www.youtube.com/iframe_api"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
/* ========================= ğŸ BANCO DE CUPONES ========================= */
const cupones = {
  faciles: [
    "ğŸœ CupÃ³n por un ramen",
    "ğŸ“¸ CupÃ³n para Fotos romÃ¡nticas",
    "ğŸ² CupÃ³n para que te cocine lo que quieras",
    "ğŸ¥¤ CupÃ³n por un cassava"
  ],
  normales: [
    "ğŸ¬ CupÃ³n para ver una pelÃ­cula juntos",
    "ğŸ¿ CupÃ³n para ir al cine"
  ],
  dificiles: [
    "ğŸ¶ CupÃ³n para cantarte una canciÃ³n"
  ],
  superDificiles: [
    "ğŸ’ƒğŸ”¥ CupÃ³n para un baile sepsy ğŸ”¥ğŸ’ƒ"
  ]
};

/* ========================= ğŸ“Œ TRIVIA (preguntas abiertas) ========================= */
const preguntasTrivia = [
  { q: "Â¿En quÃ© fecha empezamos a salir? ğŸ’•", correctas: ["22 febrero", "22/02/2022", "22-02-2022", "22", "febrero"] },
  { q: "Â¿DÃ³nde fue nuestra primera cita? ğŸŒ¹", correctas: ["comer","karaoke","restaurante"] },
  { q: "Â¿QuÃ© color me gusta mÃ¡s? ğŸ¨", correctas: ["negro","rosa", "rojo"] },
  { q: "Â¿Frase que siempre te digo? ğŸ’Œ (ponlas en primera persona)", correctas: ["adoro","encantas","extraÃ±o", "fascinas", "tuya"] },
  { q: "Â¿PelÃ­cula a la que normalmente le hacemos referencia? ğŸ¬", correctas: ["monster inc","monster", "boo", "Monster inc"] },
  { q: "Â¿Sobrenombres que te digo o te chuleo?", correctas: ["hemoso", "lindo","chulo","chulito", "guapo"] }
];

function iniciarTrivia() {
  document.getElementById("resultadoJuego").innerHTML = "";
  document.getElementById("cupon").innerHTML = "";

  const seleccion = preguntasTrivia.sort(() => 0.5 - Math.random()).slice(0, 5);
  let html = "<h3>Trivia ğŸ’Œ</h3>";

  seleccion.forEach((p, i) => {
    html += `<p>${p.q}</p><input type="text" id="t${i}" style="width:80%;padding:5px;"><br>`;
  });

  html += `<button onclick="finalizarTrivia()">Responder</button>`;
  document.getElementById("juegoArea").innerHTML = html;

  window.preguntasActuales = seleccion;
}

function finalizarTrivia() {
  let aciertos = 0;

  window.preguntasActuales.forEach((p, i) => {
    const respuesta = document.getElementById(`t${i}`).value.toLowerCase();
    if (p.correctas.some(c => respuesta.includes(c))) {
      aciertos++;
    }
  });

  mostrarResultado(aciertos, 5, "normal");
}

/* ========================= ğŸ“Œ MEMORAMA ========================= */
/* ========================= ğŸ“Œ MEMORAMA AVANZADO ========================= */
// 26 Fotos posibles (ajusta la ruta de tus imÃ¡genes)
const todasLasFotos = Array.from({length: 29}, (_, i) => `img/Foto${i+1}.jpg`);

let cartasJuego = [];
let volteadas = [];
let encontradas = 0;
let errores = 0;
const maxErrores = 7;

function iniciarMemorama() {
  document.getElementById("cupon").innerHTML = "";
  document.getElementById("info").innerHTML = "";

  // Selecciona 10 Fotos distintas (o la cantidad que quieras)
  let seleccionadas = todasLasFotos.sort(() => 0.5 - Math.random()).slice(0, 10);

  // Duplica y baraja
  cartasJuego = [...seleccionadas, ...seleccionadas].sort(() => 0.5 - Math.random());

  // Construye el tablero
  let html = `<div class='memorama-grid' id='gridMemorama'>`;
  cartasJuego.forEach((src, i) => {
    html += `
      <div class="carta" id="carta${i}" onclick="voltearCarta(${i}, '${src}')">
        <div class="carta-inner">
          <div class="carta-back">ğŸ’–</div>
          <div class="carta-front"><img src="${src}"></div>
        </div>
      </div>
    `;
  });
  html += "</div>";
  document.getElementById("juegoArea").innerHTML = html;

  // Ajusta columnas para cuadrado perfecto
  const grid = document.getElementById("gridMemorama");
  const total = cartasJuego.length;
  const columnas = Math.ceil(Math.sqrt(total));
  grid.style.gridTemplateColumns = `repeat(${columnas}, minmax(80px, 1fr))`;


  // Reinicia variables
  volteadas = [];
  encontradas = 0;
  errores = 0;
  actualizarInfo();
}

function voltearCarta(i, src) {
  const carta = document.getElementById("carta" + i);
  if (carta.classList.contains("volteada") || volteadas.length === 2) return;

  carta.classList.add("volteada");
  volteadas.push({i, src});

  if (volteadas.length === 2) {
    if (volteadas[0].src === volteadas[1].src) {
      encontradas++;
      volteadas = [];
      actualizarInfo();
      if (encontradas === cartasJuego.length / 2) {
        if (errores < maxErrores) {
          mostrarCupon();
        } else {
          perderJuego();
        }
      }
    } else {
      errores++;
      actualizarInfo();
      if (errores >= maxErrores) {
        setTimeout(perderJuego, 800);
      } else {
        setTimeout(() => {
          document.getElementById("carta" + volteadas[0].i).classList.remove("volteada");
          document.getElementById("carta" + volteadas[1].i).classList.remove("volteada");
          volteadas = [];
        }, 800);
      }
    }
  }
}

function actualizarInfo() {
  document.getElementById("info").innerHTML =
    `âœ… Pares encontrados: ${encontradas}/${cartasJuego.length / 2} | âŒ Errores: ${errores}/${maxErrores}`;
}

function mostrarCupon() {
  const lista = cupones.superDificiles;
  const cupon = lista[Math.floor(Math.random() * lista.length)];
  document.getElementById("cupon").innerHTML =
    `ğŸ Â¡Ganaste un CUPÃ“N SUPER DIFÃCIL!<br><br>${cupon}`;
}

function perderJuego() {
  document.getElementById("cupon").innerHTML =
    "ğŸ’” Has perdido, te quedaste sin intentos. Reiniciando...";
  setTimeout(iniciarMemorama, 2000);
}


/* ========================= ğŸ“Œ QUÃ‰ TANTO ME CONOCES (abiertas) ========================= */
const preguntasConoceme = [
  { q: "Â¿CuÃ¡l es mi comida favorita? ğŸ”", correctas: ["ramen","sushi","leche"] },
  { q: "Â¿QuÃ© no me gusta de comida? âŒ", correctas: ["chuleta","picadillo","tocino","jamon","pollo","cebolla"] },
  { q: "Â¿CuÃ¡l es mi sueÃ±o? ğŸŒ™", correctas: ["viajar","trabajar","casa","hijos","mamÃ¡","mama","casarnos","familia"] },
  { q: "Â¿CuÃ¡l es mi hobby?", correctas: ["bailar","cantar","pasar","tiempo","juntos","cocinar","cocinarme","conmigo"] },
  { q: "Â¿CuÃ¡l es mi nombre completo?", correctas: ["joana valeria chavez serna","Joana Valeria Chavez Serna"] },
  { q: "Â¿CuÃ¡l es la cosa que mas amo hacer?ğŸ’•", correctas: ["verme","vernos","juntos","conmigo","besarnos","besarme"] },
  { q: "Â¿QuÃ© quiero lograr contigo? â¤ï¸", correctas: ["todo","TODO","familia","mejorar","casarnos"] }
];

function iniciarConoceme() {
  document.getElementById("resultadoJuego").innerHTML = "";
  document.getElementById("cupon").innerHTML = "";

  const seleccion = preguntasConoceme.sort(() => 0.5 - Math.random()).slice(0, 5);
  let html = "<h3>QuÃ© tanto me conoces ğŸŒ¹</h3>";

  seleccion.forEach((p, i) => {
    html += `<p>${p.q}</p><input type="text" id="c${i}" style="width:80%;padding:5px;"><br>`;
  });

  html += `<button onclick="finalizarConoceme()">Responder</button>`;
  document.getElementById("juegoArea").innerHTML = html;

  window.preguntasActuales = seleccion;
}

function finalizarConoceme() {
  let aciertos = 0;

  window.preguntasActuales.forEach((p, i) => {
    const respuesta = document.getElementById(`c${i}`).value.toLowerCase();
    if (p.correctas.some(c => respuesta.includes(c))) {
      aciertos++;
    }
  });

  mostrarResultado(aciertos, 5, "superDificil");
}

/* ========================= ğŸ‰ RESULTADOS Y CUPONES ========================= */
function mostrarResultado(aciertos, total, tipo) {
  document.getElementById("resultadoJuego").innerHTML = `âœ… Aciertos: ${aciertos} de ${total}`;

  if (aciertos >= 4) {
    let categoria = "faciles";
    if (tipo === "normal" && aciertos === 5) categoria = "normales";
    if (tipo === "dificil" && aciertos === total) categoria = "dificiles";
    if (tipo === "superDificil" && aciertos === total) categoria = "superDificiles";

    const lista = cupones[categoria];
    const cupon = lista[Math.floor(Math.random() * lista.length)];
    document.getElementById("cupon").innerHTML = `<h3>ğŸ Â¡Ganaste un cupÃ³n!</h3><p>${cupon}</p>`;
    lanzarConfetti();
  } else {
    document.getElementById("cupon").innerHTML = "ğŸ’” No alcanzaste los aciertos suficientes, intenta de nuevo amorcito.";
  }
}

function lanzarConfetti() {
  confetti({
    particleCount: 150,
    spread: 100,
    origin: { y: 0.6 },
    emojis: ['ğŸ’–','ğŸ’•','â¤ï¸','ğŸ’˜']
  });
}

// ---------------- ContraseÃ±a ----------------
const passwordSecreta = "22/feb/2022"; 

function verificar(){
  const pass = document.getElementById("password").value;
  if(pass === passwordSecreta){
    document.getElementById("login").style.display="none";
    document.getElementById("contenido").style.display="block";
    crearCorazones();
    iniciarReloj();
    cargarCanciones(); // <- Creamos botones de mÃºsica aquÃ­
  }else{
    alert("ContraseÃ±a incorrecta mi amoor ğŸ’”");
  }
}

function mostrar(id){
  const secciones=document.querySelectorAll(".seccion");
  secciones.forEach(sec=>sec.classList.remove("show"));
  document.getElementById(id).classList.add("show");
  if(id === "escribeme"){
    cargarNotas();
  }
}

// ---------------- Corazones ----------------
function crearCorazones(){
  for(let i=0;i<30;i++){
    let heart=document.createElement('div');
    heart.classList.add('heart');
    heart.innerText='ğŸ’–';
    heart.style.left=Math.random()*window.innerWidth+'px';
    heart.style.fontSize=(10+Math.random()*20)+'px';
    heart.style.animationDuration=(4+Math.random()*4)+'s';
    document.body.appendChild(heart);
  }
}

// ---------------- Reloj romÃ¡ntico ----------------
function iniciarReloj() {
  const inicio = new Date(2022, 1, 22, 19, 0, 0); // Febrero = 1
  const mensajeHora = document.getElementById("mensajeHora");
  const reloj = document.getElementById("reloj");

  function actualizar() {
    const ahora = new Date();
    let aÃ±os = ahora.getFullYear() - inicio.getFullYear();
    let meses = ahora.getMonth() - inicio.getMonth();
    let dias = ahora.getDate() - inicio.getDate();
    let horas = ahora.getHours() - inicio.getHours();
    let minutos = ahora.getMinutes() - inicio.getMinutes();

    if (minutos < 0) { minutos += 60; horas -= 1; }
    if (horas < 0) { horas += 24; dias -= 1; }
    if (dias < 0) { 
      const mesAnterior = new Date(ahora.getFullYear(), ahora.getMonth(), 0);
      dias += mesAnterior.getDate();
      meses -= 1;
    }
    if (meses < 0) { meses += 12; aÃ±os -= 1; }

    const semanas = Math.floor(dias / 7);
    const diasRestantes = dias % 7;

    reloj.innerHTML = `Tiempo juntos: ${aÃ±os} aÃ±os, ${meses} meses, ${semanas} semanas, ${diasRestantes} dÃ­as, ${horas} horas, ${minutos} minutos`;

    const h = ahora.getHours();
    if (h >= 6 && h < 12) {
      mensajeHora.innerText = "Buenos dÃ­as mi cielito, Â¿cÃ³mo amaneciste?? Te adoro guapo ğŸ’–";
    } else if (h >= 12 && h < 18) {
      mensajeHora.innerText = "Mi amoooor, Â¿cÃ³mo estÃ¡s?, Â¿ya comiste? OjalÃ¡ tenerte aquÃ­ ğŸ’•";
    } else if (h >= 18 && h < 24) {
      mensajeHora.innerText = "Chulo, buenas noches ğŸŒ™. Estoy tan feliz de estar un dÃ­a mÃ¡s contigo ğŸ’–";
    } else {
      mensajeHora.innerText = "Bbyyy, Â¿quÃ© haces despierto?? No puedes dormir amor?? Estoy para ti siempre ğŸ’•";
    }
  }

  actualizar();
  setInterval(actualizar, 60000);
}

// ---------------- MÃºsica ----------------
const canciones = [
  { nombre: "Dandelions", archivo: "canciones/Dandelions.mp3" },
  { nombre: "Tanto", archivo: "canciones/Tanto.mp3" },
  { nombre: "Our time", archivo: "canciones/Our Time.mp3" },
  { nombre: "Him and I", archivo: "canciones/Him and I.mp3" },
  { nombre: "Die For You", archivo: "canciones/DIE FOR YOU.mp3" },
  { nombre: "Algo MÃ¡s", archivo: "canciones/Algo mas.mp3" },
  { nombre: "Beso", archivo: "canciones/Beso.mp3" },
  { nombre: "Aire", archivo: "canciones/AIRE.mp3" },
  { nombre: "Me Muero", archivo: "canciones/Me Muero.mp3" },
  { nombre: "Ojitos Lindos", archivo: "canciones/Ojitos lindos.mp3" },
  { nombre: "Don't Blame Me", archivo: "canciones/Dont Blame Me.mp3" },
  { nombre: "Amor Completo", archivo: "canciones/Amor Completo.mp3" },
  { nombre: "Contigo (Carla)", archivo: "canciones/Contigo carla.mp3" },
  { nombre: "Contigo (Karol G)", archivo: "canciones/Contigo.mp3" },
  { nombre: "Ocean", archivo: "canciones/Ocean.mp3" },
  { nombre: "Eres Mi ReligiÃ³n", archivo: "canciones/Eres mi religion.mp3" },
  { nombre: "Todo CambiÃ³", archivo: "canciones/Todo cambio.mp3" },
  { nombre: "Solo Para Ti", archivo: "canciones/SÃ³lo Para Ti.mp3" },
  { nombre: "Eres TÃº", archivo: "canciones/Eres tÃº.mp3" },
  { nombre: "Reik - Creo en Ti", archivo: "canciones/Reik_creo_en_ti.mp3" }
];

function cargarCanciones() {
  const lista = document.getElementById("listaCanciones");
  lista.innerHTML = "";
  canciones.forEach((cancion, i) => {
    const postit = document.createElement("div");
    postit.style.background = `hsl(${Math.random()*360}, 70%, 85%)`; // color pastel aleatorio
    postit.style.padding = "15px";
    postit.style.borderRadius = "15px";
    postit.style.width = "150px";
    postit.style.textAlign = "center";
    postit.style.boxShadow = "0 8px 15px rgba(0,0,0,0.3)";
    postit.style.transform = `rotate(${Math.random()*10-5}deg)`; // ligera rotaciÃ³n
    postit.style.fontWeight = "bold";
    postit.style.cursor = "pointer";

    postit.innerHTML = `
      <p style="margin-bottom:10px;">${cancion.nombre}</p>
      <button onclick="reproducir(${i})">â–¶ï¸ Reproducir</button>
    `;

    lista.appendChild(postit);
  });
}

function reproducir(index) {
  const player = document.getElementById("player");
  player.src = canciones[index].archivo;
  player.play();
}

// Inicializar la playlist
cargarCanciones();

/*------------------ Guardar nota-------------------*/
function guardarNota() {
  const texto = document.getElementById('notaUsuario').value.trim();
  if (texto === "") {
    alert("Escribe algo primero ğŸ’Œ");
    return;
  }

  // Obtenemos notas previas (array)
  let notas = JSON.parse(localStorage.getItem('notasPrivadas') || "[]");
  notas.push(texto); // agregamos la nueva
  localStorage.setItem('notasPrivadas', JSON.stringify(notas));

  mostrarNotas();
  document.getElementById('notaUsuario').value = "";
}

function mostrarNotas() {
  let notas = JSON.parse(localStorage.getItem('notasPrivadas') || "[]");
  if (notas.length === 0) {
    document.getElementById('notaGuardada').innerText = "No tienes notas todavÃ­a.";
    return;
  }

  document.getElementById('notaGuardada').innerHTML = notas
    .map((nota, i) => `ğŸ“ ${i+1}: ${nota}`)
    .join("<br>");
}

function borrarNota() {
  if(confirm("Â¿Seguro quieres borrar todas tus notas?")) {
    localStorage.removeItem('notasPrivadas');
    mostrarNotas();
  }
}

// Llamar al cargar la secciÃ³n
function cargarNotas() {
  mostrarNotas();
}
let mediaRecorder;
let audioChunks = [];

function iniciarGrabacion() {
  navigator.mediaDevices.getUserMedia({ audio: true })
    .then(stream => {
      mediaRecorder = new MediaRecorder(stream);
      audioChunks = [];
      mediaRecorder.ondataavailable = e => {
        audioChunks.push(e.data);
      };
      mediaRecorder.onstop = () => {
        const blob = new Blob(audioChunks, { type: 'audio/webm' });
        const reader = new FileReader();
        reader.onloadend = () => {
          let mensajes = JSON.parse(localStorage.getItem('mensajesVoz') || '[]');
          mensajes.push(reader.result);
          localStorage.setItem('mensajesVoz', JSON.stringify(mensajes));
          mostrarMensajesVoz();
        };
        reader.readAsDataURL(blob);
      };
      mediaRecorder.start();
      alert("ğŸ™ Grabando... toca de nuevo para detener");
    })
    .catch(err => {
      alert("Debes dar permiso al micrÃ³fono ğŸ’•");
      console.error(err);
    });
}

function detenerGrabacion() {
  if (mediaRecorder && mediaRecorder.state !== "inactive") {
    mediaRecorder.stop();
  }
}
function mostrarMensajesVoz() {
  const lista = document.getElementById('listaMensajes');
  lista.innerHTML = '';
  const mensajes = JSON.parse(localStorage.getItem('mensajesVoz') || '[]');
  mensajes.forEach((base64, i) => {
    const li = document.createElement('li');
    li.style.marginBottom = '10px';

    const audio = document.createElement('audio');
    audio.src = base64;
    audio.controls = true;
    li.appendChild(audio);

    /*const btnBorrar = document.createElement('button');
    btnBorrar.textContent = 'ğŸ—‘ Borrar';
    btnBorrar.style.marginLeft = '10px';
    btnBorrar.onclick = () => {
      mensajes.splice(i, 1);
      localStorage.setItem('mensajesVoz', JSON.stringify(mensajes));
      mostrarMensajesVoz();
    };*/
    li.appendChild(btnBorrar);

    lista.appendChild(li);
  });
}


// Mostrar mensajes guardados al cargar la secciÃ³n
mostrarMensajesVoz();
function crearPostIt(texto) {
  const colores = ['#fff59d','#ffcc80','#80deea','#f48fb1','#aed581'];
  const tablero = document.getElementById('tableroNotas');
  const div = document.createElement('div');
  div.textContent = texto;
  div.className = 'postit';
  const color = colores[Math.floor(Math.random()*colores.length)];
  const rot = Math.floor(Math.random()*15-7); // rotaciÃ³n entre -7 y 7
  div.style.background = color;
  div.style.padding = '10px';
  div.style.width = '150px';
  div.style.minHeight = '80px';
  div.style.boxShadow = '2px 4px 8px rgba(0,0,0,0.3)';
  div.style.transform = `rotate(${rot}deg)`;
  div.style.borderRadius = '8px';
  div.style.cursor = 'pointer';
  div.title = 'Haz click para borrar';
  div.onclick = () => { div.remove(); guardarPostIts(); };
  tablero.appendChild(div);
  guardarPostIts();
}

function guardarPostIts() {
  const postits = Array.from(document.querySelectorAll('#tableroNotas .postit')).map(div=>div.textContent);
  localStorage.setItem('misPostIts', JSON.stringify(postits));
}

function cargarPostIts() {
  const postits = JSON.parse(localStorage.getItem('misPostIts') || '[]');
  postits.forEach(texto=>crearPostIt(texto));
}

// Llamar al cargar la secciÃ³n
cargarPostIts();




</script>

</body>
</html>
